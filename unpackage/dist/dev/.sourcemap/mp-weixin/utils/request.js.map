{"version":3,"file":"request.js","sources":["utils/request.js"],"sourcesContent":["const BASE_URL = \"https://tea.qingnian8.com/api/bizhi\";\r\n\r\nexport function request(config = {}) {\r\n  let { url, method, header = {}, data = {} } = config;\r\n\r\n  url = BASE_URL + url;\r\n  header[\"access-key\"] = \"cialloworld\";\r\n\r\n  return new Promise((resolve, reject) => {\r\n    uni.request({\r\n      url: url,\r\n      method: method || \"GET\",\r\n      header: header,\r\n      data: data,\r\n      success: (res) => {\r\n        if (res.data.errCode === 0) {\r\n          console.log(\"请求成功\", res.data);\r\n          resolve(res.data);\r\n        } else if (res.data.errCode === 400) {\r\n          uni.showModal({\r\n            title: \"错误提示\",\r\n            content: res.data.errMsg,\r\n            showCancel: false,\r\n          });\r\n          reject(res.data);\r\n        } else {\r\n          uni.showToast({\r\n            title: res.data.errMsg,\r\n            icon: \"none\",\r\n          });\r\n          reject(res.data);\r\n        }\r\n      },\r\n      fail: (err) => {\r\n        reject(err);\r\n      },\r\n    });\r\n  });\r\n}\r\n"],"names":["uni"],"mappings":";;AAAA,MAAM,WAAW;AAEV,SAAS,QAAQ,SAAS,IAAI;AACnC,MAAI,EAAE,KAAK,QAAQ,SAAS,CAAE,GAAE,OAAO,CAAA,EAAI,IAAG;AAE9C,QAAM,WAAW;AACjB,SAAO,YAAY,IAAI;AAEvB,SAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACtCA,kBAAAA,MAAI,QAAQ;AAAA,MACV;AAAA,MACA,QAAQ,UAAU;AAAA,MAClB;AAAA,MACA;AAAA,MACA,SAAS,CAAC,QAAQ;AAChB,YAAI,IAAI,KAAK,YAAY,GAAG;AAC1BA,wBAAA,MAAA,MAAA,OAAA,0BAAY,QAAQ,IAAI,IAAI;AAC5B,kBAAQ,IAAI,IAAI;AAAA,QACjB,WAAU,IAAI,KAAK,YAAY,KAAK;AACnCA,wBAAAA,MAAI,UAAU;AAAA,YACZ,OAAO;AAAA,YACP,SAAS,IAAI,KAAK;AAAA,YAClB,YAAY;AAAA,UACxB,CAAW;AACD,iBAAO,IAAI,IAAI;AAAA,QACzB,OAAe;AACLA,wBAAAA,MAAI,UAAU;AAAA,YACZ,OAAO,IAAI,KAAK;AAAA,YAChB,MAAM;AAAA,UAClB,CAAW;AACD,iBAAO,IAAI,IAAI;AAAA,QAChB;AAAA,MACF;AAAA,MACD,MAAM,CAAC,QAAQ;AACb,eAAO,GAAG;AAAA,MACX;AAAA,IACP,CAAK;AAAA,EACL,CAAG;AACH;;"}