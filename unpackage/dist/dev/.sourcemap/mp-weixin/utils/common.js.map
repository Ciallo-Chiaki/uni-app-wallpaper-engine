{"version":3,"file":"common.js","sources":["utils/common.js"],"sourcesContent":["// 时间格式化函数\r\nexport function formatTime(timestamp) {\r\n  // 获取当前时间戳\r\n  const now = Date.now();\r\n  // 传入的时间戳（如果是秒级时间戳，需要乘以1000）\r\n  const time = typeof timestamp === \"string\" ? parseInt(timestamp) : timestamp;\r\n  const targetTime = time.toString().length === 10 ? time * 1000 : time;\r\n\r\n  // 计算时间差（毫秒）\r\n  const diff = now - targetTime;\r\n\r\n  // 如果时间差为负数（未来时间），返回null\r\n  if (diff < 0) return null;\r\n\r\n  // 定义时间单位（毫秒）\r\n  const minute = 60 * 1000;\r\n  const hour = 60 * minute;\r\n  const day = 24 * hour;\r\n  const month = 30 * day;\r\n  const threeMonths = 3 * month;\r\n\r\n  // 超过三个月返回null\r\n  if (diff > threeMonths) {\r\n    return null;\r\n  }\r\n\r\n  // 三个月内显示多少月前\r\n  if (diff >= month) {\r\n    const months = Math.floor(diff / month);\r\n    return `${months}个月前`;\r\n  }\r\n\r\n  // 一个月内显示多少天前\r\n  if (diff >= day) {\r\n    const days = Math.floor(diff / day);\r\n    return `${days}天前`;\r\n  }\r\n\r\n  // 一天内显示多少小时前\r\n  if (diff >= hour) {\r\n    const hours = Math.floor(diff / hour);\r\n    return `${hours}小时前`;\r\n  }\r\n\r\n  // 一小时内显示多少分钟前\r\n  if (diff >= minute) {\r\n    const minutes = Math.floor(diff / minute);\r\n    return `${minutes}分钟前`;\r\n  }\r\n\r\n  // 一分钟内显示一分钟前\r\n  return \"1分钟前\";\r\n}\r\n\r\nexport function goToHome() {\r\n  uni.showModal({\r\n    title: \"提示\",\r\n    content: \"页面有误将返回首页\",\r\n    showCancel: true,\r\n    success: (res) => {\r\n      if (res.confirm) {\r\n        uni.reLaunch({ url: \"/pages/index/index\" });\r\n      }\r\n    },\r\n  });\r\n}\r\n"],"names":[],"mappings":";;AACO,SAAS,WAAW,WAAW;AAEpC,QAAM,MAAM,KAAK;AAEjB,QAAM,OAAO,OAAO,cAAc,WAAW,SAAS,SAAS,IAAI;AACnE,QAAM,aAAa,KAAK,SAAU,EAAC,WAAW,KAAK,OAAO,MAAO;AAGjE,QAAM,OAAO,MAAM;AAGnB,MAAI,OAAO;AAAG,WAAO;AAGrB,QAAM,SAAS,KAAK;AACpB,QAAM,OAAO,KAAK;AAClB,QAAM,MAAM,KAAK;AACjB,QAAM,QAAQ,KAAK;AACnB,QAAM,cAAc,IAAI;AAGxB,MAAI,OAAO,aAAa;AACtB,WAAO;AAAA,EACR;AAGD,MAAI,QAAQ,OAAO;AACjB,UAAM,SAAS,KAAK,MAAM,OAAO,KAAK;AACtC,WAAO,GAAG,MAAM;AAAA,EACjB;AAGD,MAAI,QAAQ,KAAK;AACf,UAAM,OAAO,KAAK,MAAM,OAAO,GAAG;AAClC,WAAO,GAAG,IAAI;AAAA,EACf;AAGD,MAAI,QAAQ,MAAM;AAChB,UAAM,QAAQ,KAAK,MAAM,OAAO,IAAI;AACpC,WAAO,GAAG,KAAK;AAAA,EAChB;AAGD,MAAI,QAAQ,QAAQ;AAClB,UAAM,UAAU,KAAK,MAAM,OAAO,MAAM;AACxC,WAAO,GAAG,OAAO;AAAA,EAClB;AAGD,SAAO;AACT;;"}