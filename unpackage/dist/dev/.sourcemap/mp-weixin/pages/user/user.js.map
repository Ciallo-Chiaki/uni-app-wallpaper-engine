{"version":3,"file":"user.js","sources":["pages/user/user.vue","../../EdgeDownload/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdXNlci91c2VyLnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"userLayout pageBg\">\n    <view :style=\"{ height: getNavBarHeight() + 'px' }\"></view>\n    <view class=\"userInfo\">\n      <view class=\"avatar\">\n        <image src=\"../../static/logo.png\" mode=\"aspectFill\" />\n      </view>\n      <view class=\"ip\">{{ userInfo.IP }}</view>\n      <view class=\"address\"\n        >来自于：{{\n          userInfo.address?.city ||\n          userInfo.address?.province ||\n          userInfo.address?.country\n        }}</view\n      >\n    </view>\n\n    <view class=\"section\">\n      <view class=\"list\">\n        <!-- 跳转classlist -->\n        <view\n          class=\"row\"\n          @click=\"\n            () =>\n              uni.navigateTo({\n                url: '/pages/classlist/classlist?name=我的下载&type=download',\n              })\n          \"\n        >\n          <view class=\"left\">\n            <uni-icons type=\"download-filled\" color=\"#28b389\" size=\"20\" />\n            <view class=\"text\">我的下载</view>\n          </view>\n          <view class=\"right\">\n            <view class=\"count\">{{ userInfo.downloadSize }}</view>\n            <uni-icons type=\"right\" color=\"#aaa\" size=\"16\" />\n          </view>\n        </view>\n\n        <view\n          class=\"row\"\n          @click=\"\n            () =>\n              uni.navigateTo({\n                url: '/pages/classlist/classlist?name=我的评分&type=score',\n              })\n          \"\n        >\n          <view class=\"left\">\n            <uni-icons type=\"star-filled\" color=\"#28b389\" size=\"20\" />\n            <view class=\"text\">我的评分</view>\n          </view>\n          <view class=\"right\">\n            <view class=\"count\">{{ userInfo.scoreSize }}</view>\n            <uni-icons type=\"right\" color=\"#aaa\" size=\"16\" />\n          </view>\n        </view>\n        <view class=\"row\">\n          <view class=\"left\">\n            <uni-icons type=\"chatboxes-filled\" color=\"#28b389\" size=\"20\" />\n            <view class=\"text\">联系客服</view>\n          </view>\n          <view class=\"right\">\n            <uni-icons type=\"right\" color=\"#aaa\" size=\"16\" />\n          </view>\n          <!-- #ifdef MP -->\n          <button open-type=\"contact\">联系客服</button>\n          <!-- #endif -->\n          <!-- #ifndef MP -->\n          <button @click=\"clickContact\">拨打电话</button>\n          <!-- #endif -->\n        </view>\n      </view>\n    </view>\n    <view class=\"section\">\n      <view class=\"list\">\n        <view class=\"row\">\n          <view\n            class=\"left\"\n            @click=\"\n              () => {\n                uni.navigateTo({\n                  url: '/pages/notice/notice?id=65361e318b0da4ca084e3ce0',\n                });\n              }\n            \"\n          >\n            <uni-icons type=\"notification-filled\" color=\"#28b389\" size=\"20\" />\n            <view class=\"text\">订阅更新</view>\n          </view>\n          <view class=\"right\">\n            <uni-icons type=\"right\" color=\"#aaa\" size=\"16\" />\n          </view>\n        </view>\n        <view class=\"row\">\n          <view\n            class=\"left\"\n            @click=\"\n              () => {\n                uni.navigateTo({\n                  url: '/pages/notice/notice?id=6536358ce0ec19c8d67fbe82',\n                });\n              }\n            \"\n          >\n            <uni-icons type=\"flag-filled\" color=\"#28b389\" size=\"20\" />\n            <view class=\"text\">常见问题</view>\n          </view>\n          <view class=\"right\">\n            <uni-icons type=\"right\" color=\"#aaa\" size=\"16\" />\n          </view>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script setup>\nimport { getNavBarHeight } from \"@/utils/system.js\";\nimport { apiGetUserInfo } from \"@/api/apis.js\";\nimport { ref } from \"vue\";\n\nconst userInfo = ref({});\n\nconst clickContact = () => {\n  // 这里可以添加拨打电话的逻辑\n  uni.makePhoneCall({\n    phoneNumber: \"123456789\", // 替换为实际的电话号码\n  });\n};\n\nconst getUserInfo = async () => {\n  apiGetUserInfo().then((res) => {\n    userInfo.value = res.data;\n    console.log(\"获取用户信息\", userInfo.value);\n  });\n};\n\ngetUserInfo();\n</script>\n\n<style lang=\"scss\" scoped>\n.userLayout {\n  padding: 30rpx;\n  .userInfo {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n    padding: 50rpx 0;\n    .avatar {\n      width: 160rpx;\n      height: 160rpx;\n      border-radius: 50%;\n      overflow: hidden;\n      image {\n        width: 100%;\n        height: 100%;\n      }\n    }\n    .ip {\n      padding: 20rpx 0 5rpx;\n      font-size: 44rpx;\n      color: #333;\n    }\n    .address {\n      margin-left: 10rpx;\n      font-size: 28rpx;\n      color: #aaa;\n    }\n  }\n  .section {\n    width: 690rpx;\n    margin: 50rpx auto;\n    border: 1px solid #eee;\n    border-radius: 10rpx;\n    box-shadow: 0 0 30rpx rgba(0, 0, 0, 0.05);\n    .list {\n      .row {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        padding: 30rpx 20rpx;\n        border-bottom: 1px solid #eee;\n        position: relative;\n        background-color: #fff;\n        &:last-child {\n          border-bottom: none;\n        }\n        .left {\n          display: flex;\n          align-items: center;\n          .text {\n            margin-left: 10rpx;\n            font-size: 30rpx;\n            color: $brand-theme-color;\n          }\n        }\n        .right {\n          display: flex;\n          align-items: center;\n          .count {\n            margin-right: 10rpx;\n            font-size: 28rpx;\n            color: #999;\n          }\n        }\n        button {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 690rpx;\n          height: 100%;\n          background: transparent;\n          border: none;\n          z-index: 1;\n          opacity: 0;\n        }\n      }\n    }\n  }\n}\n</style>\n","import MiniProgramPage from 'D:/extest/wallpaper-engine/pages/user/user.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","apiGetUserInfo","uni"],"mappings":";;;;;;;;;;;;;;;;AA0HA,UAAM,WAAWA,cAAAA,IAAI,CAAA,CAAE;AASvB,UAAM,cAAc,YAAY;AAC9BC,8BAAgB,EAAC,KAAK,CAAC,QAAQ;AAC7B,iBAAS,QAAQ,IAAI;AACrBC,sBAAA,MAAA,MAAA,OAAA,8BAAY,UAAU,SAAS,KAAK;AAAA,MACxC,CAAG;AAAA,IACH;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzIA,GAAG,WAAW,eAAe;"}