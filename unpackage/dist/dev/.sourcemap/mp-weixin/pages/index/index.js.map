{"version":3,"file":"index.js","sources":["pages/index/index.vue","../../EdgeDownload/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<template>\r\n  <view class=\"homeLayout pageBg\">\r\n    <custom-nav-bar title=\"推荐\"></custom-nav-bar>\r\n\r\n    <view class=\"banner\">\r\n      <swiper\r\n        indicator-dots\r\n        indicator-color=\"rgba(255,255,255,0.5)\"\r\n        indicator-active-color=\"#fff\"\r\n        autoplay\r\n        circular\r\n      >\r\n        <swiper-item v-for=\"item in bannerList\" :key=\"item._id\">\r\n          <navigator\r\n            v-if=\"item.target === 'miniProgram'\"\r\n            :url=\"item.url\"\r\n            class=\"link\"\r\n            target=\"miniProgram\"\r\n            :app-id=\"item.appid\"\r\n          >\r\n            <image :src=\"item.picurl\" mode=\"scaleToFill\" />\r\n          </navigator>\r\n          <navigator\r\n            v-else\r\n            :url=\"`/pages/classlist/classlist?${item.url}`\"\r\n            class=\"link\"\r\n          >\r\n            <image :src=\"item.picurl\" mode=\"scaleToFill\" />\r\n          </navigator>\r\n        </swiper-item>\r\n      </swiper>\r\n    </view>\r\n    <!-- 公告列表 -->\r\n    <view class=\"notice\">\r\n      <view class=\"left\">\r\n        <uni-icons type=\"sound-filled\" color=\"#28b389\" size=\"30\" />\r\n        <text class=\"text\"> 公告 </text>\r\n      </view>\r\n      <view class=\"center\">\r\n        <swiper vertical autoplay interval=\"1500\" duration=\"300\" circular>\r\n          <swiper-item v-for=\"item in noticeList\" :key=\"item._id\">\r\n            <navigator :url=\"'/pages/notice/notice?id=' + item._id\">\r\n              {{ item.title }}\r\n            </navigator>\r\n          </swiper-item>\r\n        </swiper>\r\n      </view>\r\n      <view class=\"right\">\r\n        <uni-icons type=\"right\" color=\"#333\" size=\"16\" />\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 每日推荐 -->\r\n    <view class=\"select\">\r\n      <common-title>\r\n        <template #name>每日推荐</template>\r\n        <template #custom>\r\n          <view class=\"date\">\r\n            <uni-icons type=\"calendar\" color=\"#28b389\" size=\"18\" />\r\n            <view class=\"text\">\r\n              <uni-dateformat :date=\"Date.now()\" format=\"dd日\"></uni-dateformat>\r\n            </view>\r\n          </view>\r\n        </template>\r\n      </common-title>\r\n      <view class=\"content\">\r\n        <scroll-view scroll-x=\"true\">\r\n          <view\r\n            class=\"box\"\r\n            v-for=\"item in randomList\"\r\n            :key=\"item._id\"\r\n            @click=\"goPreview(item._id)\"\r\n          >\r\n            <image class=\"pic\" :src=\"item.smallPicurl\" mode=\"aspectFill\" />\r\n          </view>\r\n        </scroll-view>\r\n      </view>\r\n    </view>\r\n    <!-- 专题精选 -->\r\n    <view class=\"theme\">\r\n      <common-title>\r\n        <template #name>专题精选</template>\r\n        <template #custom>\r\n          <navigator\r\n            url=\"/pages/classify/classify\"\r\n            open-type=\"reLaunch\"\r\n            hover-class=\"navigator-hover\"\r\n            class=\"more\"\r\n          >\r\n            More+\r\n          </navigator>\r\n        </template>\r\n      </common-title>\r\n      <view class=\"content\">\r\n        <theme-item\r\n          v-for=\"item in classifyList\"\r\n          :key=\"item._id\"\r\n          :item=\"item\"\r\n        ></theme-item>\r\n        <theme-item :isMore=\"true\"></theme-item>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script setup>\r\n// 本项目中所有代码推测和交流请使用中文\r\nimport { ref } from \"vue\";\r\nimport {\r\n  apiGetBanner,\r\n  apiGetDayRandom,\r\n  apiGetNotice,\r\n  apiGetClassify,\r\n} from \"@/api/apis.js\";\r\nimport { onShareAppMessage, onShareTimeline } from \"@dcloudio/uni-app\";\r\n\r\nconst bannerList = ref([]);\r\nconst randomList = ref([]);\r\nconst noticeList = ref([]);\r\nconst classifyList = ref([]);\r\n\r\n// 获取轮播图\r\nconst getBanner = async () => {\r\n  let res = await apiGetBanner();\r\n  bannerList.value = res.data;\r\n};\r\n\r\n// 获取每日推荐\r\nconst getDayRandom = async () => {\r\n  let res = await apiGetDayRandom();\r\n  randomList.value = res.data;\r\n};\r\n\r\n// 获取公告列表\r\nconst getNotice = async () => {\r\n  let res = await apiGetNotice({ select: true });\r\n  noticeList.value = res.data;\r\n};\r\n\r\n// 获取分类列表\r\nconst getClassify = async () => {\r\n  let res = await apiGetClassify({\r\n    select: true,\r\n  });\r\n  classifyList.value = res.data;\r\n};\r\n\r\n// 跳转到预览页面\r\nconst goPreview = (id) => {\r\n  uni.setStorageSync(\"storageClassList\", randomList.value);\r\n  uni.navigateTo({\r\n    url: \"/pages/preview/preview?id=\" + id,\r\n  });\r\n};\r\n\r\n// 分享给好友\r\nonShareAppMessage((e) => {\r\n  console.log(e);\r\n  return {\r\n    title: \"别笑，你也过不了第二关\",\r\n    path: \"/pages/index/index\",\r\n  };\r\n});\r\n\r\n// 分享到朋友圈\r\nonShareTimeline(() => {\r\n  return {\r\n    title: \"别笑，你也过不了第二关\",\r\n  };\r\n});\r\n\r\ngetBanner();\r\ngetDayRandom();\r\ngetNotice();\r\ngetClassify();\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.homeLayout {\r\n  .banner {\r\n    width: 750rpx;\r\n    padding: 30rpx 0;\r\n    swiper {\r\n      width: 750rpx;\r\n      height: 340rpx;\r\n      &-item {\r\n        width: 100%;\r\n        height: 100%;\r\n        padding: 0 30rpx;\r\n        .link {\r\n          width: 100%;\r\n          height: 100%;\r\n          image {\r\n            width: 100%;\r\n            height: 100%;\r\n            border-radius: 10rpx;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .notice {\r\n    width: 690rpx;\r\n    height: 80rpx;\r\n    line-height: 80rpx;\r\n    background-color: #f9f9f9;\r\n    margin: 0 auto;\r\n    border-radius: 80rpx;\r\n    display: flex;\r\n    .left {\r\n      width: 140rpx;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      .text {\r\n        margin-left: 10rpx;\r\n        font-size: 28rpx;\r\n        color: #28b389;\r\n        font-weight: 600;\r\n      }\r\n    }\r\n    .center {\r\n      flex: 1;\r\n      swiper {\r\n        height: 100%;\r\n        swiper-item {\r\n          height: 100%;\r\n          font-size: 30rpx;\r\n          color: #666;\r\n          overflow: hidden;\r\n          white-space: nowrap;\r\n          text-overflow: ellipsis;\r\n        }\r\n      }\r\n    }\r\n    .right {\r\n      width: 70rpx;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n    }\r\n  }\r\n  .select {\r\n    padding-top: 50rpx;\r\n    .date {\r\n      color: #28b389;\r\n      display: flex;\r\n      align-items: center;\r\n      .text {\r\n        margin-left: 5rpx;\r\n      }\r\n    }\r\n    .content {\r\n      width: 720rpx;\r\n      margin-left: 30rpx;\r\n      margin-top: 30rpx;\r\n      scroll-view {\r\n        white-space: nowrap;\r\n        .box {\r\n          width: 200rpx;\r\n          height: 430rpx;\r\n          display: inline-block;\r\n          margin-right: 15rpx;\r\n          border-radius: 10rpx;\r\n          overflow: hidden;\r\n          .pic {\r\n            width: 100%;\r\n            height: 100%;\r\n            border-radius: 10rpx;\r\n          }\r\n        }\r\n        .box:last-child {\r\n          margin-right: 30rpx;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .theme {\r\n    padding: 50rpx 0;\r\n    .more {\r\n      color: #28b389;\r\n      font-size: 28rpx;\r\n    }\r\n    .content {\r\n      margin-top: 30rpx;\r\n      padding: 0 30rpx;\r\n      display: grid;\r\n      gap: 15rpx;\r\n      grid-template-columns: repeat(3, 1fr);\r\n      //   grid-auto-rows: 200rpx;\r\n      theme-item {\r\n        width: 100%;\r\n        height: 100%;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import MiniProgramPage from 'D:/extest/wallpaper-engine/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","apiGetBanner","apiGetDayRandom","apiGetNotice","apiGetClassify","uni","onShareAppMessage","onShareTimeline"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAoHA,UAAA,aAAAA,cAAAA,IAAA,CAAA,CAAA;AACA,UAAA,aAAAA,cAAAA,IAAA,CAAA,CAAA;AACA,UAAA,aAAAA,cAAAA,IAAA,CAAA,CAAA;AACA,UAAA,eAAAA,cAAAA,IAAA,CAAA,CAAA;AAGA,UAAA,YAAA,YAAA;AACA,UAAA,MAAA,MAAAC,SAAAA;AACA,iBAAA,QAAA,IAAA;AAAA,IACA;AAGA,UAAA,eAAA,YAAA;AACA,UAAA,MAAA,MAAAC,SAAAA;AACA,iBAAA,QAAA,IAAA;AAAA,IACA;AAGA,UAAA,YAAA,YAAA;AACA,UAAA,MAAA,MAAAC,SAAA,aAAA,EAAA,QAAA,KAAA,CAAA;AACA,iBAAA,QAAA,IAAA;AAAA,IACA;AAGA,UAAA,cAAA,YAAA;AACA,UAAA,MAAA,MAAAC,wBAAA;AAAA,QACA,QAAA;AAAA,MACA,CAAA;AACA,mBAAA,QAAA,IAAA;AAAA,IACA;AAGA,UAAA,YAAA,CAAA,OAAA;AACAC,oBAAAA,MAAA,eAAA,oBAAA,WAAA,KAAA;AACAA,oBAAAA,MAAA,WAAA;AAAA,QACA,KAAA,+BAAA;AAAA,MACA,CAAA;AAAA,IACA;AAGAC,kBAAA,kBAAA,CAAA,MAAA;AACAD,oBAAAA,MAAA,MAAA,OAAA,gCAAA,CAAA;AACA,aAAA;AAAA,QACA,OAAA;AAAA,QACA,MAAA;AAAA,MACA;AAAA,IACA,CAAA;AAGAE,kBAAAA,gBAAA,MAAA;AACA,aAAA;AAAA,QACA,OAAA;AAAA,MACA;AAAA,IACA,CAAA;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7KA,GAAG,WAAW,eAAe;"}